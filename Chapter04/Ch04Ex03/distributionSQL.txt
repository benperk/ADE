CREATE TABLE [brainwaves].[DimMODE] (
  [MODE_ID] 	INT			NOT NULL,
  [MODE]		NVARCHAR (50)	NOT NULL
)
WITH
(
  CLUSTERED COLUMNSTORE INDEX,
  DISTRIBUTION = REPLICATE
)
GO
CREATE TABLE [brainwaves].[DimSCENARIO] (
  [SCENARIO_ID]  INT            NOT NULL,
  [SCENARIO]     NVARCHAR (100) NOT NULL
)
WITH
(
  CLUSTERED COLUMNSTORE INDEX,
  DISTRIBUTION = REPLICATE
)
GO
CREATE TABLE [brainwaves].[DimELECTRODE] (
  [ELECTRODE_ID] 	INT			NOT NULL,
  [ELECTRODE]	NVARCHAR (50)	NOT NULL,
  [LOCATION]	NVARCHAR (50)	NOT NULL
)
WITH
(
  CLUSTERED COLUMNSTORE INDEX,
  DISTRIBUTION = REPLICATE
)
GO
CREATE TABLE [brainwaves].[DimFREQUENCY]
(
  [FREQUENCY_ID] 	INT			NOT NULL,
  [FREQUENCY]	NVARCHAR (50) 	NOT NULL,
  [ACTIVITY]	NVARCHAR (100)	NOT NULL
)
WITH
(
  CLUSTERED COLUMNSTORE INDEX,
  DISTRIBUTION = REPLICATE
)
GO
CREATE TABLE [brainwaves].[DimSESSION] (
  [SESSION_ID] 	INT           NOT NULL,
  [SCENARIO_ID] 	INT           NOT NULL,
  [MODE_ID] 	INT           NOT NULL,
  [SESSION_DATETIME]	DATETIME      NOT NULL
)
WITH
(
  CLUSTERED COLUMNSTORE INDEX,
  DISTRIBUTION = REPLICATE
)
GO
CREATE TABLE [brainwaves].[TmpREADING] (
  [READING_ID] 	INT	    NOT NULL,
  [SESSION_ID] 	INT	    NOT NULL,
  [ELECTRODE_ID] 	INT	    NOT NULL,
  [FREQUENCY_ID] 	INT	    NOT NULL,
  [READING_DATETIME]  DATETIME    NOT NULL,
  [COUNT]      	INT             NOT NULL,
  [VALUE]		DECIMAL(8,3)    NOT NULL
)
WITH
(
  CLUSTERED COLUMNSTORE INDEX,
  DISTRIBUTION = ROUND_ROBIN
)
GO
CREATE TABLE [brainwaves].[FactREADING] 
(
  [SESSION_DATETIME]   DATETIME 		NOT NULL,
  [READING_DATETIME]   DATETIME  		NOT NULL,
  [SCENARIO]		   NVARCHAR (100)	NOT NULL,
  [ELECTRODE]		   NVARCHAR (50)	NOT NULL,
  [FREQUENCY]		   NVARCHAR (50)  	NOT NULL,
  [VALUE]		   DECIMAL(8,3)  	NOT NULL
)
WITH
(
  CLUSTERED COLUMNSTORE INDEX,
  DISTRIBUTION = HASH ([FREQUENCY])
)
GO
