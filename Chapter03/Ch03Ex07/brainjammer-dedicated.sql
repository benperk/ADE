CREATE TABLE [dbo].[MODE]
(
    [MODE_ID] 	INT		        NOT NULL,
    [MODE]	    NVARCHAR (50)	NOT NULL
)
WITH
(
    HEAP,  
    DISTRIBUTION = REPLICATE 
)
GO
INSERT INTO [dbo].[MODE] ([MODE_ID], [MODE]) VALUES (1, 'EEG')
INSERT INTO [dbo].[MODE] ([MODE_ID], [MODE]) VALUES (2, 'POW')
GO
CREATE TABLE [dbo].[SCENARIO] (
    [SCENARIO_ID]  INT            NOT NULL,
    [SCENARIO]     NVARCHAR (MAX) NOT NULL
)
WITH
(
    HEAP,  
    DISTRIBUTION = REPLICATE 
)
GO
INSERT INTO [dbo].[SCENARIO] ([SCENARIO_ID], [SCENARIO]) VALUES (1, N'ClassicalMusic')
INSERT INTO [dbo].[SCENARIO] ([SCENARIO_ID], [SCENARIO]) VALUES (2, N'FlipChart')
INSERT INTO [dbo].[SCENARIO] ([SCENARIO_ID], [SCENARIO]) VALUES (3, N'Meditation')
INSERT INTO [dbo].[SCENARIO] ([SCENARIO_ID], [SCENARIO]) VALUES (4, N'MetalMusic')
INSERT INTO [dbo].[SCENARIO] ([SCENARIO_ID], [SCENARIO]) VALUES (5, N'PlayingGuitar')
INSERT INTO [dbo].[SCENARIO] ([SCENARIO_ID], [SCENARIO]) VALUES (6, N'TikTok')
INSERT INTO [dbo].[SCENARIO] ([SCENARIO_ID], [SCENARIO]) VALUES (7, N'WorkMeeting')
INSERT INTO [dbo].[SCENARIO] ([SCENARIO_ID], [SCENARIO]) VALUES (8, N'WorkNoEmail')
GO
CREATE TABLE [dbo].[ELECTRODE] (
    [ELECTRODE_ID] 	INT		NOT NULL,
    [ELECTRODE]		NVARCHAR (50)	NOT NULL,
    [LOCATION]		NVARCHAR (50)	NOT NULL
)
WITH
(
    HEAP,  
    DISTRIBUTION = REPLICATE 
)
GO
INSERT INTO [dbo].[ELECTRODE] ([ELECTRODE_ID], [ELECTRODE], [LOCATION]) VALUES (1, 'AF3', 'Front Left')
INSERT INTO [dbo].[ELECTRODE] ([ELECTRODE_ID], [ELECTRODE], [LOCATION]) VALUES (2, 'AF4', 'Front Right')
INSERT INTO [dbo].[ELECTRODE] ([ELECTRODE_ID], [ELECTRODE], [LOCATION]) VALUES (3, 'T7', 'Ear Left')
INSERT INTO [dbo].[ELECTRODE] ([ELECTRODE_ID], [ELECTRODE], [LOCATION]) VALUES (4, 'T8', 'Ear Right')
INSERT INTO [dbo].[ELECTRODE] ([ELECTRODE_ID], [ELECTRODE], [LOCATION]) VALUES (5, 'Pz', 'Center Back')
GO
CREATE TABLE [dbo].[FREQUENCY] (
    [FREQUENCY_ID] 	INT		NOT NULL,
    [FREQUENCY]		NVARCHAR (50)	NOT NULL,
    [ACTIVITY]		NVARCHAR (100)	NOT NULL
)
WITH
(
    HEAP,  
    DISTRIBUTION = REPLICATE 
)
INSERT INTO [dbo].[FREQUENCY] ([FREQUENCY_ID], [FREQUENCY], [ACTIVITY]) VALUES (1, 'THETA', 'Creativity')
INSERT INTO [dbo].[FREQUENCY] ([FREQUENCY_ID], [FREQUENCY], [ACTIVITY]) VALUES (2, 'ALPHA', 'Relaxation')
INSERT INTO [dbo].[FREQUENCY] ([FREQUENCY_ID], [FREQUENCY], [ACTIVITY]) VALUES (3, 'BETA_L', 'Problem Solving')
INSERT INTO [dbo].[FREQUENCY] ([FREQUENCY_ID], [FREQUENCY], [ACTIVITY]) VALUES (4, 'BETA_H', 'Concentration')
INSERT INTO [dbo].[FREQUENCY] ([FREQUENCY_ID], [FREQUENCY], [ACTIVITY]) VALUES (5, 'GAMMA', 'Learning')
GO
CREATE TABLE [dbo].[SESSION] (
    [SESSION_ID] 	INT           NOT NULL,
    [SCENARIO_ID] 	INT           NOT NULL,
    [MODE_ID] 		INT           NOT NULL,
    [SESSION_DATETIME]	DATETIME      NOT NULL
)
WITH
(
    HEAP,  
    DISTRIBUTION = REPLICATE 
)
GO
INSERT INTO [dbo].[SESSION] ([SESSION_ID], [SCENARIO_ID], [MODE_ID], [SESSION_DATETIME]) VALUES (1, 6, 2, '20210730 08:00:00.000 AM')
INSERT INTO [dbo].[SESSION] ([SESSION_ID], [SCENARIO_ID], [MODE_ID], [SESSION_DATETIME]) VALUES (2, 1, 1, '20210831 09:30:00.000 AM')
INSERT INTO [dbo].[SESSION] ([SESSION_ID], [SCENARIO_ID], [MODE_ID], [SESSION_DATETIME]) VALUES (3, 5, 2, '20210930 09:35:00.000 AM')
GO
CREATE TABLE [dbo].[READING] (
    [READING_ID] 	INT	    NOT NULL,
    [SESSION_ID] 	INT	    NOT NULL,
    [ELECTRODE_ID] 	INT	    NOT NULL,
    [FREQUENCY_ID] 	INT	    NOT NULL,
    [READING_DATETIME]  DATETIME    NOT NULL,
    [COUNT]      	INT         NOT NULL,
    [VALUE]		DECIMAL(7,3)  NOT NULL
)
WITH
(
    DISTRIBUTION = HASH ([ELECTRODE_ID]),
    CLUSTERED COLUMNSTORE INDEX
)
GO
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (1, 1, 1, 1, '20210730 08:02:49.685 AM', 0, 9.681)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (2, 1, 1, 2, '20210730 08:02:49.685 AM', 0, 3.849)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (3, 1, 1, 3, '20210730 08:02:49.685 AM', 0, 2.582)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (4, 1, 1, 4, '20210730 08:02:49.685 AM', 0, 0.959)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (5, 1, 1, 5, '20210730 08:02:49.685 AM', 0, 0.738)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (6, 2, 1, 1, '20210831 09:34:53.685 AM', 0, 4144.103)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (7, 2, 2, 2, '20210831 09:34:53.685 AM', 0, 4135.385)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (8, 2, 3, 3, '20210831 09:34:53.685 AM', 0, 3582.051)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (9, 2, 4, 4, '20210831 09:34:53.685 AM', 0, 4137.436)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (10, 2, 5, 5, '20210831 09:34:53.685 AM', 0, 4058.462)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (11, 3, 2, 1, '20210930 09:37:18.558 AM', 1, 26.25)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (12, 3, 2, 2, '20210930 09:37:18.558 AM', 1, 5.549)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (13, 3, 2, 3, '20210930 09:37:18.558 AM', 1, 2.058)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (14, 3, 2, 4, '20210930 09:37:18.558 AM', 1, 0.895)
INSERT INTO [dbo].[READING] ([READING_ID], [SESSION_ID], [ELECTRODE_ID], [FREQUENCY_ID], [READING_DATETIME], [COUNT], [VALUE]) VALUES (15, 3, 2, 5, '20210930 09:37:18.558 AM', 1, 0.839)
GO
CREATE TABLE [dbo].[ALL_SCENARIO_ELECTRODE_FREQUENCY_VALUE] (
    [SESSION_DATETIME]	DATETIME   		NOT NULL,
    [READING_DATETIME] 	DATETIME   		NOT NULL,
    [SCENARIO]		    NVARCHAR (100)	NOT NULL,
    [ELECTRODE]		    NVARCHAR (50)	NOT NULL,
    [FREQUENCY]		    NVARCHAR (50)  	NOT NULL,
    [VALUE]			    DECIMAL(7,3)  	NOT NULL
)
WITH
(
    DISTRIBUTION = HASH ([ELECTRODE]),
    CLUSTERED COLUMNSTORE INDEX
)
GO
SELECT SCENARIO, ELECTRODE, FREQUENCY, VALUE 
FROM SCENARIO sc, [SESSION] s, ELECTRODE e, FREQUENCY f, READING r
WHERE sc.SCENARIO_ID = s.SCENARIO_ID 
  AND s.SESSION_ID = r.SESSION_ID 
  AND e.ELECTRODE_ID = r.ELECTRODE_ID
  AND f.FREQUENCY_ID = r.FREQUENCY_ID
GO
